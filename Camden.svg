<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 700">
  <!-- Definitions for reusable elements -->
  <defs>
    <!-- Arrow Marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555"/>
    </marker>
    
    <!-- Box shadow filter -->
    <filter id="drop-shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="700" fill="white"/>
  
  <!-- Title -->
  <text x="300" y="50" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle">Chatbot Processing Flow</text>
  <text x="300" y="80" font-family="Arial, sans-serif" font-size="18" text-anchor="middle">Four Key Steps</text>
  
  <!-- User at Top -->
  <g transform="translate(300, 120)">
    <circle cx="0" cy="0" r="15" fill="#666"/>
    <path d="M0,-15 C-10,-15 -10,-7 -10,0 L10,0 C10,-7 10,-15 0,-15" fill="#666"/>
    <text x="0" y="30" font-family="Arial, sans-serif" font-size="14" text-anchor="middle">User</text>
  </g>
  
  <!-- Arrow Down to Step 1 -->
  <line x1="300" y1="155" x2="300" y2="180" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 1: Input Processing -->
  <g transform="translate(225, 200)">
    <rect width="150" height="80" rx="15" ry="15" fill="#D4F1F9" stroke="#05A2C2" stroke-width="2" filter="url(#drop-shadow)"/>
    <text x="75" y="35" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">1. Input</text>
    <text x="75" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle">Processing</text>
    <text x="75" y="75" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-style="italic">(Tokenization, NER)</text>
  </g>
  
  <!-- Arrow Down to Step 2 -->
  <line x1="300" y1="280" x2="300" y2="320" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 2: Intent Understanding -->
  <g transform="translate(225, 320)">
    <rect width="150" height="80" rx="15" ry="15" fill="#FCF3CF" stroke="#D4AC0D" stroke-width="2" filter="url(#drop-shadow)"/>
    <text x="75" y="35" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">2. Intent</text>
    <text x="75" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle">Understanding</text>
    <text x="75" y="75" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-style="italic">(Classification, Context)</text>
  </g>
  
  <!-- Arrow Down to Step 3 -->
  <line x1="300" y1="400" x2="300" y2="440" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 3: Response Generation -->
  <g transform="translate(225, 440)">
    <rect width="150" height="80" rx="15" ry="15" fill="#E8DAEF" stroke="#7D3C98" stroke-width="2" filter="url(#drop-shadow)"/>
    <text x="75" y="35" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">3. Response</text>
    <text x="75" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle">Generation</text>
    <text x="75" y="75" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-style="italic">(Retrieval, Reasoning)</text>
  </g>
  
  <!-- Arrow Down to Step 4 -->
  <line x1="300" y1="520" x2="300" y2="560" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Step 4: Output Delivery -->
  <g transform="translate(225, 560)">
    <rect width="150" height="80" rx="15" ry="15" fill="#D5F5E3" stroke="#1E8449" stroke-width="2" filter="url(#drop-shadow)"/>
    <text x="75" y="35" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle">4. Output</text>
    <text x="75" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle">Delivery</text>
    <text x="75" y="75" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" font-style="italic">(Formatting, Safety)</text>
  </g>
  
  <!-- Arrow Down to User at Bottom -->
  <line x1="300" y1="640" x2="300" y2="665" stroke="#555" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- User at Bottom -->
  <g transform="translate(300, 690)">
    <circle cx="0" cy="0" r="15" fill="#666"/>
    <path d="M0,-15 C-10,-15 -10,-7 -10,0 L10,0 C10,-7 10,-15 0,-15" fill="#666"/>
    <text x="0" y="-25" font-family="Arial, sans-serif" font-size="14" text-anchor="middle">User</text>
  </g>
  
  <!-- Additional Information -->
  <text x="300" y="670" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" font-style="italic">SVG ready for editing in Adobe Illustrator</text>
</svg>